<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
{% extends 'flatpages/default.html' %}

{% load custom_filters %}

{% block title %}
News
{% endblock title %}

{% block content %}
  <h1>Все Посты</h1>
  <h2>Количество постов: {{ posts|length }}</h2>
  <hr>
    {% if posts %}
      <table>
          <tr>
            <td>Заголовок</td>
            <td>Дата публикации</td>
            <td>Текст</td>
          </tr>

          {% for post in posts %}
          <tr>
            <td>{{ post.title }}</td>
            <td>{{ post.created_datetime|date:'d m Y' }}</td>
            <td>{{ post.text|truncatechars:20 }}</td>
          </tr>
        {% endfor %}
      </table>
    {% else %}
        <h2>Постов нет!</h2>
    {% endif %}
{% endblock content %}
</body>
</html>